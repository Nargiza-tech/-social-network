(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{290:function(e,t,s){e.exports={dialogs:"dialogs_dialogs__2ujhR",dialogsItems:"dialogs_dialogsItems__2JD1x",active:"dialogs_active__29jRq",dialog:"dialogs_dialog__pkjN5",messages:"dialogs_messages__27Avq",addMessage:"dialogs_addMessage__1kZYi",addMessageBtn:"dialogs_addMessageBtn__37ia1"}},291:function(e,t,s){"use strict";s(0);var n=s(290),i=s.n(n),a=s(1),c=function(e){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"dialog",children:[Object(a.jsx)("img",{}),e.message]})})},o=s(14),r=function(e){var t="/dialogs/"+e.id;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{className:i.a.dialog+" "+i.a.active,children:Object(a.jsxs)(o.b,{to:t,children:[Object(a.jsx)("img",{src:"https://mobimg.b-cdn.net/v3/fetch/0e/0e26b1b65946ee36fac9605ae67e4ac8.jpeg"}),e.name]})})})},j=(s(56),s(10)),u=s(127),d=s(128),l=s(60),b=s(59),p=Object(l.a)(50),O=Object(d.a)({form:"dialogMessageForm"})((function(e){return Object(a.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(a.jsx)("div",{children:Object(a.jsx)(u.a,{component:b.b,name:"newMessageBody",placeholder:"Enter your message",validate:[l.b,p]})}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{children:"Send"})})]})}));t.a=function(e){var t=e.dialogsPage,s=t.dialogs.map((function(e){return Object(a.jsx)(r,{name:e.name,id:e.id},e.id)})),n=t.messages.map((function(e){return Object(a.jsx)(c,{message:e.message,id:e.id},e.id)}));t.newMessageBody;return e.isAuth?Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:i.a.dialogs,children:[Object(a.jsxs)("div",{className:i.a.dialogsItems,children:[s,"x"]}),Object(a.jsxs)("div",{className:i.a.messages,children:[Object(a.jsx)("div",{children:n}),Object(a.jsx)("div",{children:Object(a.jsx)(O,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}})})]})]})}):Object(a.jsx)(j.a,{to:"/login"})}},292:function(e,t,s){"use strict";s.d(t,"a",(function(){return b}));var n=s(5),i=s(33),a=s(34),c=s(36),o=s(35),r=s(0),j=s.n(r),u=s(10),d=(s(291),s(19)),l=s(1),b=function(e){var t=function(t){Object(c.a)(r,t);var s=Object(o.a)(r);function r(){return Object(i.a)(this,r),s.apply(this,arguments)}return Object(a.a)(r,[{key:"render",value:function(){return this.props.isAuth?Object(l.jsx)(e,Object(n.a)({},this.props)):Object(l.jsx)(u.a,{to:"/login"})}}]),r}(j.a.Component);return Object(d.b)((function(e){return{isAuth:e.auth.isAuth}}))(t)}},293:function(e,t,s){},294:function(e,t,s){e.exports={descriptionBlock:"profileInfo_descriptionBlock__ySjCy",profileInfo:"profileInfo_profileInfo__3rnLM",imgFon:"profileInfo_imgFon__2Rsjo",oneImg:"profileInfo_oneImg__3GTg8"}},295:function(e,t,s){e.exports={postsBlock:"myPosts_postsBlock__3Fy7_",posts:"myPosts_posts__kPdmo"}},296:function(e,t,s){e.exports={item:"post_item__1nMRn"}},299:function(e,t,s){"use strict";s.r(t);var n=s(5),i=s(33),a=s(34),c=s(36),o=s(35),r=s(0),j=s.n(r),u=(s(293),s(294)),d=s.n(u),l=s(72),b=s(1),p=(j.a.Component,s(129)),O=function(e){var t=Object(r.useState)(!1),s=Object(p.a)(t,2),n=s[0],i=s[1],a=Object(r.useState)(e.status),c=Object(p.a)(a,2),o=c[0],j=c[1];Object(r.useEffect)((function(){j(e.status)}),[e.status]);return Object(b.jsxs)("div",{children:[!n&&Object(b.jsx)("div",{children:Object(b.jsx)("span",{onDoubleClick:function(){i(!0)},children:e.status||"----"})}),n&&Object(b.jsx)("div",{children:Object(b.jsx)("input",{onChange:function(e){j(e.currentTarget.value)},autoFocus:!0,type:"text",onBlur:function(){e.updateStatus(o),i(!1)},value:o})})]})},h=function(e){return e.profile?Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:d.a.descriptionBlock,children:Object(b.jsx)("img",{src:e.profile.photos.large})}),Object(b.jsx)(O,{status:e.status,updateStatus:e.updateStatus}),Object(b.jsx)("span",{children:e.profile.fullName})]}):Object(b.jsx)(l.a,{})},m=s(19),f=s(295),g=s.n(f),x=s(296),v=s.n(x),_=function(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{children:[e.messege," Like ",e.likesCount]}),Object(b.jsxs)("div",{className:v.a.item,children:[Object(b.jsx)("img",{src:"https://mobimg.b-cdn.net/v3/fetch/0e/0e26b1b65946ee36fac9605ae67e4ac8.jpeg"}),Object(b.jsx)("div",{})]})]})},y=s(127),S=s(128),k=s(60),P=s(59),I=Object(k.a)(10),M=j.a.memo((function(e){console.log("render");var t=e.posts.map((function(e){return Object(b.jsx)(_,{messege:e.message,id:e.id,likesCount:e.likesCount},e.id)}));return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:g.a.postsBlock,children:[Object(b.jsx)("h3",{children:"My posts"}),Object(b.jsx)("div",{children:Object(b.jsx)(F,{onSubmit:function(t){e.addPost(t.newPostsText),console.log(t.newPostsText)}})}),Object(b.jsx)("div",{className:g.a.posts,children:t})]})})})),B=function(e){Object(c.a)(s,e);var t=Object(o.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(a.a)(s,[{key:"render",value:function(){return Object(b.jsxs)("form",{onSubmit:this.props.handleSubmit,children:[Object(b.jsx)("div",{children:Object(b.jsx)(y.a,{component:P.b,name:"newPostsText",placeholder:"Enter your message",validate:[k.b,I]})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{children:"Send"})})]})}}]),s}(j.a.Component),F=Object(S.a)({form:"myPostsForm"})(B),N=M,w=s(55),C=Object(m.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(Object(w.a)(t))}}}))(N),A=function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)(h,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(b.jsx)(C,{})]})},T=s(10),R=s(292),U=s(9),D=function(e){Object(c.a)(s,e);var t=Object(o.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(a.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return Object(b.jsx)("div",{children:Object(b.jsx)(A,Object(n.a)(Object(n.a)({},this.props),{},{status:this.props.status,updateStatus:this.props.updateStatus}))})}}]),s}(j.a.Component);t.default=Object(U.d)(Object(m.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:w.d,getStatus:w.c,updateStatus:w.e}),T.f,R.a)(D)}}]);
//# sourceMappingURL=3.34aae038.chunk.js.map